flowchart TB
  %% Actor
  Usuario(( Usuario))

  %% Subgrafo principal
  subgraph TASKS["Gesti贸n de Tareas"]
    direction TB
    Crear[Crear Tarea]
    Editar[Editar Tarea]
    Eliminar[Eliminar Tarea]
    Completar[Marcar como Completada]
    VerLista[Ver Lista de Tareas]
    Filtrar[Filtrar por Categor铆a]
    Calendario[Vista de Calendario]

    %% Subgrafo de Categor铆as dentro de Tareas
    subgraph CATEGORIES["Gesti贸n de Categor铆as"]
      direction TB
      CrearCat[Crear Categor铆a]
      EditarCat[Editar Categor铆a]
      EliminarCat[Eliminar Categor铆a]
    end
  end

  %% Relaci贸n invisible para forzar verticalidad
  Usuario -.-> TASKS

  %% Relaciones del usuario con los casos de uso
  Usuario --> VerLista
  Usuario --> Crear
  Usuario --> Editar
  Usuario --> Eliminar
  Usuario --> Completar
  Usuario --> Calendario

  %% Relaciones internas
  VerLista --> Filtrar
  Crear --> VerLista
  Editar --> VerLista
  Eliminar --> VerLista
  Completar --> VerLista

  %% include: crear tarea incluye validar datos
  Validar[Validar Datos]
  Crear -.->|<<include>>| Validar

  %% extend: eliminaci贸n puede mostrar confirmaci贸n (opcional)
  Confirm[Confirmar Eliminaci贸n]
  Confirm -.->|<<extend>>| Eliminar

  %% Relaci贸n de Filtrar con Categor铆as
  Filtrar --> CATEGORIES
