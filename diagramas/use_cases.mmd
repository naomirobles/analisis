flowchart LR
    %% Actores
    Usuario((👤 Usuario<br/>Estudiante / Profesional))
    Admin((👨‍💼 Administrador<br/>del Sistema))

    %% APIs externas
    EMAIL[/"📧 Servicio de Email"/]
    YOUTUBE[(🎥 YouTube API)]
    WIKI[(📚 Enciclopedias digitales API)]

    %% Sistema - contenedor principal
    subgraph SISTEMA["SISTEMA DE GESTIÓN DE TAREAS"]
      direction TB

      %% Módulo: Autenticación y Perfil
      subgraph AUTH["Autenticación & Perfil"]
        direction TB
        Reg[Registrar Usuario]
        Login[Iniciar Sesión]
        RecPass[Recuperar Contraseña]
        Perfil[Actualizar Perfil]
        Logout[Cerrar Sesión]
      end

      %% Módulo: Panel / Dashboard
      Dash[Panel Principal]

      %% Módulo: Gestión de Tareas
      subgraph TASKS["Gestión de Tareas"]
        direction TB
        Crear[Crear Tarea]
        Editar[Editar Tarea]
        Eliminar[Eliminar Tarea]
        Completar[Marcar como Completada]
        VerLista[Ver Lista de Tareas]
        Filtrar[Filtrar por Categoría]
        Calendario[Vista de Calendario]
      end

      %% Módulo: Categorías
      subgraph CATS["Categorías"]
        direction TB
        CrearCat[Crear Categoría]
        AsignarCat[Asignar Categoría]
        VerPorCat[Ver Tareas por Categoría]
      end

      %% Módulo: Recomendaciones
      subgraph RECS["Recomendaciones & Recursos"]
        direction TB
        GenRec[Generar Recomendaciones]
        GuardarRec[Guardar Recomendación]
        VerRecursos[Ver Recursos Guardados]
        Feedback[Dar Feedback]
      end

      %% Módulo: Administración
      subgraph ADMINMOD["Administración del Sistema"]
        direction TB
        Monitoreo[Monitorear Sistema]
        GestionUsuarios[Gestionar Usuarios]
        Estadisticas[Ver Estadísticas]
      end

    end

    %% Conexiones actor -> sistema
    Usuario --> Reg
    Usuario --> Login
    Usuario --> VerLista
    Usuario --> Crear
    Usuario --> CrearCat
    Usuario --> GenRec
    Usuario --> Perfil

    Admin --> Monitoreo
    Admin --> GestionUsuarios
    Admin --> Estadisticas

    %% Flujo lógico / Navegación
    Login -->|Accede a| Dash
    Dash --> VerLista
    Dash --> Calendario
    Dash --> VerRecursos

    %% Dependencias / includes (marcadas con etiqueta)
    Crear -.->|incluye| GenRec
    Login -.->|incluye| VerLista

    %% Acciones dentro del módulo de tareas
    VerLista --> Filtrar
    VerLista --> Editar
    VerLista --> Eliminar
    VerLista --> Completar
    Crear --> VerLista
    Editar --> VerLista
    Eliminar --> VerLista
    Completar --> VerLista

    %% Categorías
    CrearCat --> AsignarCat
    AsignarCat --> VerPorCat
    VerPorCat --> VerLista

    %% Recomendaciones -> APIs externas
    GenRec --> YOUTUBE
    GenRec --> WIKI
    RecPass --> EMAIL

    %% Estética / clases (opcional)
    classDef actores fill:#e3f2fd,stroke:#1976d2,stroke-width:2px;
    classDef sistema fill:#f3f6ff,stroke:#3f51b5,stroke-width:2px;
    classDef modulo fill:#ffffff,stroke:#9fa8da,stroke-width:1px;
    class Usuario,Admin actores;
    class SISTEMA sistema;
    class AUTH,TASKS,CATS,RECS,ADMINMOD modulo;
